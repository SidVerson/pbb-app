<template>
  <UContainer class="py-10 max-w-3xl">
    <UCard class="shadow-lg">
      <template #header>
        <div class="text-center">
          <h1 class="text-2xl font-bold text-pink-600">
            –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –¥–æ—Ä–æ–≥–∞—è!
          </h1>
          <p class="text-gray-600 mt-2 max-w-md mx-auto">
            –ú—ã –≤ PBB –≤–µ—Ä–∏–º, —á—Ç–æ –∫–∞–∂–¥–∞—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–∞...
          </p>
        </div>
      </template>

      <UForm
        :state="form"
        class="space-y-8"
        @submit="submitForm"
      >
        <!-- 1. –¢–µ–∫—É—â–∏–π —Å—Ä–æ–∫ -->
        <UFormField
          label="1. –ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ç–µ–∫—É—â–∏–π —Å—Ä–æ–∫?"
          required
          name="trimester"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <URadioGroup
            v-model="form.trimester"
            :items="trimesterOptions"
            :ui="{ wrapper: 'grid grid-cols-1 sm:grid-cols-2 gap-2' }"
          />
        </UFormField>

        <!-- 2. –î–∞—Ç–∞ –ü–î–† -->
        <UFormField
          label="2. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤–æ–ª—à–µ–±–Ω–æ–π –¥–∞—Ç–æ–π ‚Äî –≤–∞—à–µ–π –ü–î–†?"
          required
          name="dueDate"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <UInput
            v-model="form.dueDate"
            type="date"
            :ui="{ base: 'w-full' }"
          />
        </UFormField>

        <!-- 3. –ü–µ—Ä–≤–∞—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å -->
        <UFormField
          label="3. –≠—Ç–æ –≤–∞—à–∞ –ø–µ—Ä–≤–∞—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å?"
          required
          name="isFirstPregnancy"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <URadioGroup
            v-model="form.isFirstPregnancy"
            :items="yesNoOptions"
            :ui="{ wrapper: 'flex gap-4' }"
          />
        </UFormField>

        <!-- 4. –¢–∏–ø –∫–æ–∂–∏ -->
        <UFormField
          label="4. –ö–∞–∫ –æ–±—ã—á–Ω–æ –≤–µ–¥–µ—Ç —Å–µ–±—è –≤–∞—à–∞ –∫–æ–∂–∞?"
          required
          name="skinType"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <USelect
            v-model="form.skinType"
            :items="skinTypeOptions"
            placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç"
            class="w-full"
          />
        </UFormField>

        <!-- 5. –ü—Ä–æ—Å—å–±—ã –æ—Ç —Ç–µ–ª–∞ -->
        <UFormField
          label="5. –ï—Å—Ç—å –ª–∏ –æ—Å–æ–±—ã–µ ¬´–ø—Ä–æ—Å—å–±—ã¬ª –æ—Ç –≤–∞—à–µ–≥–æ —Ç–µ–ª–∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è?"
          required
          name="bodyNeeds"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <UCheckboxGroup
            v-model="form.bodyNeeds"
            :items="bodyNeedsOptions"
            :ui="{ wrapper: 'grid grid-cols-1 md:grid-cols-2 gap-3' }"
          >
          </UCheckboxGroup>
        </UFormField>

        <!-- 6. –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∞—Ä–æ–º–∞—Ç–∞–º -->
        <UFormField
          label="6. –ê —á—Ç–æ –Ω–∞—Å—á–µ—Ç –∞—Ä–æ–º–∞—Ç–æ–≤?"
          required
          name="aromaPreference"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <URadioGroup
            v-model="form.aromaPreference"
            :items="aromaOptions"
            :ui="{ wrapper: 'grid grid-cols-1 md:grid-cols-2 gap-2' }"
          />
        </UFormField>

        <!-- 7. –ê–ª–ª–µ—Ä–≥–∏–∏ -->
        <UFormField
          label="7. –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –∞–ª–ª–µ—Ä–≥–∏—è –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å?"
          name="allergies"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <UTextarea
            v-model="form.allergies"
            placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—ç—Ñ–∏—Ä–Ω–æ–µ –º–∞—Å–ª–æ –∞–ø–µ–ª—å—Å–∏–Ω–∞¬ª, ¬´–ª–∞–Ω–æ–ª–∏–Ω¬ª –∏–ª–∏ ¬´–Ω–µ—Ç, –≤—Å–µ —Ö–æ—Ä–æ—à–æ¬ª"
            class="w-full"
          />
        </UFormField>

        <!-- 8. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∑–∞–ø–∞—Ö–∞–º -->
        <UFormField
          label="8. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∑–∞–ø–∞—Ö–∞–º —Å–µ–π—á–∞—Å ‚Äî —ç—Ç–æ –ø—Ä–æ –≤–∞—Å?"
          required
          name="smellSensitivity"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <URadioGroup
            v-model="form.smellSensitivity"
            :items="smellSensitivityOptions"
            :ui="{ wrapper: 'space-y-2' }"
          />
        </UFormField>

        <!-- 9. –ñ–µ–ª–∞–Ω–∏—è –æ—Ç —Å—Ä–µ–¥—Å—Ç–≤ -->
        <UFormField
          label="9. –ß–µ–≥–æ –±—ã –≤–∞–º –ø—Ä–∞–≤–¥–∞ —Ö–æ—Ç–µ–ª–æ—Å—å –æ—Ç —Å—Ä–µ–¥—Å—Ç–≤ –≤ –±–æ–∫—Å–µ?"
          required
          name="desires"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <UCheckboxGroup
            v-model="form.desires"
            :items="desireOptions"
            value
            :ui="{ wrapper: 'grid grid-cols-1 md:grid-cols-2 gap-3' }"
          >
          </UCheckboxGroup>
        </UFormField>

        <!-- 10. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ -->
        <UFormField
          label="10. –û–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ —Å–ª–æ–≤–µ"
          name="mood"
          :ui="{ label: { base: 'font-medium' } }"
        >
          <UInput
            class="w-full"
            v-model="form.mood"
            placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–í –æ–∂–∏–¥–∞–Ω–∏–∏ —á—É–¥–∞¬ª, ¬´–ù—É–∂–¥–∞—é—Å—å –≤ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–∏¬ª, ¬´–ü–æ–ª–Ω–∞ —ç–Ω–µ—Ä–≥–∏–∏!¬ª"
          />
        </UFormField>

        <!-- –ë–ª–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
        <div class="border-t border-gray-200 pt-8">
          <h2 class="text-xl font-semibold mb-6 text-center text-pink-600">
            üíù –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
          </h2>

          <!-- 11. –í—ã–±–æ—Ä –±–æ–∫—Å–∞ -->
          <UFormField
            label="–í—ã–±–µ—Ä–∏—Ç–µ –±–æ–∫—Å"
            required
            name="boxType"
            :ui="{ label: { base: 'font-medium' } }"
          >
            <URadioGroup
              v-model="form.boxType"
              :items="boxTypeOptions"
              :ui="{ wrapper: 'grid grid-cols-1 md:grid-cols-3 gap-4' }"
            />
          </UFormField>

          <!-- 12. –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ -->
          <UFormField
            label="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏"
            required
            name="delivery"
            :ui="{ label: { base: 'font-medium' } }"
          >
            <div class="flex flex-col space-y-4 my-4">
              <UInput
                v-model="form.delivery.name"
                placeholder="–ò–º—è, —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
                :required="true"
              />
              <UInput
                v-model="form.delivery.phone"
                placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
                :required="true"
              />
              <UTextarea
                v-model="form.delivery.address"
                placeholder="–ì–æ—Ä–æ–¥ –∏ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏"
                class="w-full"
                :required="true"
              />
            </div>
          </UFormField>

          <!-- 13. –ü–æ–∂–µ–ª–∞–Ω–∏—è –∫ –æ—Ç–∫—Ä—ã—Ç–∫–µ -->
          <UFormField
            label="–ü–æ–∂–µ–ª–∞–Ω–∏—è –∫ –æ—Ç–∫—Ä—ã—Ç–∫–µ"
            name="cardWishes"
            :ui="{ label: { base: 'font-medium' } }"
          >
            <UTextarea
              v-model="form.cardWishes"
              placeholder="–ß—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç–∫–µ?"
              class="w-full"
            />
          </UFormField>

          <!-- 14. –ö–æ–Ω—Ç–∞–∫—Ç—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è -->
          <UFormField
            label="–í–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
            required
            name="sender"
            :ui="{ label: { base: 'font-medium' } }"
            class="my-4"
          >
            <div class="flex flex-col my-4 space-y-4">
              <UInput
                v-model="form.sender.name"
                placeholder="–í–∞—à–µ –∏–º—è"
                :required="true"
              />
              <UInput
                v-model="form.sender.phone"
                placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω"
                :required="true"
              />
              <UInput
                v-model="form.sender.email"
                type="email"
                placeholder="–í–∞—à e-mail"
                :required="true"
              />
            </div>
          </UFormField>

          <!-- 15. –†–∞—Å—Å—ã–ª–∫–∞ -->
          <UFormField
            label="–†–∞–∑—Ä–µ—à–∞–µ—Ç–µ –ª–∏ –≤—ã –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –í–∞—Å –æ –Ω–æ–≤–∏–Ω–∫–∞—Ö –∏ —Å–∫–æ—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–µ –±–æ–∫—Å–æ–≤?"
            required
            name="allowNewsletter"
            :ui="{ label: { base: 'font-medium' } }"
          >
            <URadioGroup
              v-model="form.allowNewsletter"
              :items="yesNoOptions"
              :ui="{ wrapper: 'flex gap-4' }"
            />
          </UFormField>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="flex flex-col sm:flex-row gap-4 pt-6 justify-center">
          <UButton
            type="submit"
            color="primary"
            size="lg"
            class="w-full sm:w-auto"
          >
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É
          </UButton>
          <UButton
            type="button"
            variant="outline"
            color="gray"
            size="lg"
            class="w-full sm:w-auto"
            @click="resetForm"
          >
            –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
          </UButton>
        </div>
      </UForm>
    </UCard>
  </UContainer>
</template>

<script setup lang="ts">
import {navigateTo} from "#app";

interface MomForm {
  trimester: string
  dueDate: string
  isFirstPregnancy: boolean | null
  skinType: string
  bodyNeeds: string[]
  aromaPreference: string
  allergies: string
  smellSensitivity: string
  desires: string[]
  mood: string
  boxType: string
  delivery: {
    name: string
    phone: string
    address: string
  }
  cardWishes: string
  sender: {
    name: string
    phone: string
    email: string
  }
  allowNewsletter: boolean | null
}

const form = ref<MomForm>({
  trimester: '',
  dueDate: '',
  isFirstPregnancy: null,
  skinType: '',
  bodyNeeds: [],
  aromaPreference: '',
  allergies: '',
  smellSensitivity: '',
  desires: [],
  mood: '',
  boxType: '',
  delivery: {
    name: '',
    phone: '',
    address: ''
  },
  cardWishes: '',
  sender: {
    name: '',
    phone: '',
    email: ''
  },
  allowNewsletter: null
})

// –û–ø—Ü–∏–∏ –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ–≤
const trimesterOptions = [
  { value: '1', label: '1 —Ç—Ä–∏–º–µ—Å—Ç—Ä (1-13 –Ω–µ–¥–µ–ª—è)' },
  { value: '2', label: '2 —Ç—Ä–∏–º–µ—Å—Ç—Ä (14-27 –Ω–µ–¥–µ–ª—è)' },
  { value: '3', label: '3 —Ç—Ä–∏–º–µ—Å—Ç—Ä (28-40+ –Ω–µ–¥–µ–ª—è)' },
  { value: 'postpartum', label: '–ü–æ—Å–ª–µ—Ä–æ–¥–æ–≤–æ–π –ø–µ—Ä–∏–æ–¥ (–¥–æ 1 –≥–æ–¥–∞)' }
]

const skinTypeOptions = [
  '–ù–æ—Ä–º–∞–ª—å–Ω–∞—è, –±–µ—Å–ø—Ä–æ–±–ª–µ–º–Ω–∞—è',
  '–ß–∞—Å—Ç–æ –æ—â—É—â–∞–µ—Ç —Å—É—Ö–æ—Å—Ç—å –∏ —Å—Ç—è–Ω—É—Ç–æ—Å—Ç—å',
  '–°–∫–ª–æ–Ω–Ω–∞ –∫ –±–ª–µ—Å–∫—É, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –¢-–∑–æ–Ω–µ',
  '–ö–∞–ø—Ä–∏–∑–Ω–∏—á–∞–µ—Ç, –ª–µ–≥–∫–æ –∫—Ä–∞—Å–Ω–µ–µ—Ç',
  '–ü–æ–∫–∞ –Ω–µ –º–æ–≥—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤—Å–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å—é'
]

const bodyNeedsOptions = [
  { value: 'moisturizing', label: '–ë–æ–ª—å—à–µ —É–≤–ª–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—Ç—É—â–µ–≥–æ –∂–∏–≤–æ—Ç–∏–∫–∞' },
  { value: 'pigmentation', label: '–ü–æ–º–æ—â—å —Å –ø–∏–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏–ª–∏ —Å–æ—Å—É–¥–∏—Å—Ç—ã–º–∏ –∑–≤–µ–∑–¥–æ—á–∫–∞–º–∏' },
  { value: 'sensitive', label: '–£—Ö–æ–¥ –∑–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–µ–π' },
  { value: 'hair', label: '–•–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã –≤–æ–ª–æ—Å—ã –±–ª–µ—Å—Ç–µ–ª–∏, –∫–∞–∫ —Ä–∞–Ω—å—à–µ' },
  { value: 'general', label: '–ü–æ–∫–∞ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –ø—Ä–æ—Å—Ç–æ —Ö–æ—á—É –±–∞–ª–æ–≤–∞—Ç—å —Å–µ–±—è' }
]

const aromaOptions = [
  { value: 'floral', label: '–ù–µ–∂–Ω—ã–µ —Ü–≤–µ—Ç–æ—á–Ω—ã–µ (—Ä–æ–∑–∞, –ª–∞–≤–∞–Ω–¥–∞)' },
  { value: 'fresh', label: '–°–≤–µ–∂–∏–µ, –∫–∞–∫ –º–æ—Ä—Å–∫–æ–π –±—Ä–∏–∑ (—Ü–∏—Ç—Ä—É—Å, –º—è—Ç–∞)' },
  { value: 'sweet', label: '–°–ª–∞–¥–∫–∏–µ –∏ —É—é—Ç–Ω—ã–µ (–≤–∞–Ω–∏–ª—å, –∫–∞—Ä–∞–º–µ–ª—å)' },
  { value: 'woody', label: '–°–ø–æ–∫–æ–π–Ω—ã–µ –¥—Ä–µ–≤–µ—Å–Ω—ã–µ (—Å–∞–Ω–¥–∞–ª, –∫–µ–¥—Ä)' },
  { value: 'neutral', label: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é, —á—Ç–æ–±—ã —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–∞—Ö–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ' }
]

const smellSensitivityOptions = [
  { value: 'high', label: '–î–∞, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–∞–∂–µ –ª—é–±–∏–º—ã–µ –∞—Ä–æ–º–∞—Ç—ã –º–æ–≥—É—Ç —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å' },
  { value: 'medium', label: '–ù–µ–º–Ω–æ–≥–æ, –Ω–æ —Ç–µ—Ä–ø–∏–º–æ' },
  { value: 'low', label: '–ù–µ—Ç, –º–æ–π –Ω—é—Ö —Å—á–∞—Å—Ç–ª–∏–≤, –∫–∞–∫ –Ω–∏–∫–æ–≥–¥–∞!' }
]

const desireOptions = [
  { value: 'safety', label: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—Å—Ç–∏' },
  { value: 'glow', label: '–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ ¬´—è —Å–∏—è—é!¬ª' },
  { value: 'spa', label: '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–ø–∞-–≤–µ—á–µ—Ä –¥–æ–º–∞' },
  { value: 'simplicity', label: '–ü—Ä–æ—Å—Ç–æ—Ç—ã ‚Äî —á—Ç–æ–±—ã —É—Ö–æ–¥ –∑–∞–Ω–∏–º–∞–ª –º–∏–Ω—É—Ç—ã, –Ω–æ —Ä–∞–¥–æ–≤–∞–ª' },
  { value: 'trust', label: '–ù–µ –∑–Ω–∞—é, –¥–æ–≤–µ—Ä—è—é –≤–∞—à–µ–º—É –≤—ã–±–æ—Ä—É!' }
]

const boxTypeOptions = [
  { value: 'basic', label: '–ë–∞–∑–æ–≤—ã–π (–Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏—è—Ç–Ω—ã–π —Å—é—Ä–ø—Ä–∏–∑)' },
  { value: 'comfort', label: '–ö–æ–º—Ñ–æ—Ä—Ç (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É—Ö–æ–¥–∞)' },
  { value: 'lux', label: 'Lux (–ø—Ä–µ–º–∏—É–º-—Ä–∏—Ç—É–∞–ª —Å —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏)' }
]

const yesNoOptions = [
  { value: true, label: '–î–∞!' },
  { value: false, label: '–ù–µ—Ç' }
]

const submitForm = async () => {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã:', form.value)
  navigateTo('/momResult')
  // await $fetch('/api/submit-mom', { method: 'POST', body: form.value })
}

const resetForm = () => {
  form.value = {
    trimester: '',
    dueDate: '',
    isFirstPregnancy: null,
    skinType: '',
    bodyNeeds: [],
    aromaPreference: '',
    allergies: '',
    smellSensitivity: '',
    desires: [],
    mood: '',
    boxType: '',
    delivery: {
      name: '',
      phone: '',
      address: ''
    },
    cardWishes: '',
    sender: {
      name: '',
      phone: '',
      email: ''
    },
    allowNewsletter: null
  }
}
</script>
